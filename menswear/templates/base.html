{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Магазин{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/base_style.css' %}">
    {% block extra_css %}{% endblock %}
    
</head>
<body>
    <!-- Шапка -->
    <header class="site-header">
        <div class="container header-inner">
            <nav class="nav-left">
                <a href="#">New In</a>
                <a href="#">Men</a>
                <a href="#">Women</a>
                <a href="#">Children</a>
                <a href="#">Collections</a>
            </nav>

            <div class="logo">
                <a href="/"><img src="{% static 'img/logo.png' %}" alt="Logo"></a>
            </div>

            <div class="nav-right">
                <a href="#"><img src="{% static 'icons/chat.svg' %}" alt="chat"></a>
                <a href="#"><img src="{% static 'icons/search.svg' %}" alt="search"></a>
                <a href="#"><img src="{% static 'icons/bookmark.svg' %}" alt="bookmark"></a>
                <a href="#"><img src="{% static 'icons/user.svg' %}" alt="user"></a>
                <a href="#"><img src="{% static 'icons/bag.svg' %}" alt="bag"></a>
            </div>

            <!-- Мобильная шапка -->
            <div class="mobile-bar" role="navigation" aria-label="Mobile header">
                <button class="btn-burger" aria-label="Открыть меню">
                    <span></span><span></span><span></span>
                </button>
                <a class="mobile-brand" href="/" aria-label="На главную">Paxton</a>
                <button class="btn-search" aria-label="Поиск"></button>
            </div>
        </div>
    </header>

    <main class="site-main">
        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- Подвал сайта -->
    <footer class="site-footer">
        <div class="container">
            <section class="footer-newsletter">
                <h3>Рассылка</h3>
                <form class="newsletter-form" action="#" method="post">
                    <input type="email" name="email" placeholder="Введите e-mail" required>
                    <button type="submit">Подписаться</button>
                </form>
            </section>

            <section class="footer-columns">
                <!-- Покупателям -->
                <div class="footer-col">
                    <button class="footer-acc-header" type="button" aria-expanded="false">Покупателям</button>
                    <div class="footer-acc-panel">
                        <a href="#">Эксклюзивные услуги</a>
                        <a href="#">Заказы и возвраты</a>
                        <a href="#">Таблица размеров</a>
                        <a href="#">Доставка</a>
                        <a href="#">Контакты</a>
                        <a href="#">Магазины</a>
                        <a href="#">Избранное</a>
                        <a href="#">Вопросы и ответы</a>
                    </div>
                </div>

                <!-- Компания (объединены разделы о компании и информация) -->
                <div class="footer-col">
                    <button class="footer-acc-header" type="button" aria-expanded="false">Компания</button>
                    <div class="footer-acc-panel">
                        <a href="#">О компании</a>
                        <a href="#">Эстетика</a>
                        <a href="#">Ремесла и ручная работа</a>
                        <a href="#">Соломео</a>
                        <a href="#">Правовая информация</a>
                        <a href="#">Политика конфиденциальности</a>
                        <a href="#">Политика Cookie</a>
                        <a href="#">Для инвесторов</a>
                        <a href="#">Доступность сайта</a>
                    </div>
                </div>

                <!-- Соцсети: только значки -->
                <div class="footer-col footer-social">
                    <div class="social-row" aria-label="Мы в соцсетях">
                        <a href="#" aria-label="Instagram">IG</a>
                        <a href="#" aria-label="LinkedIn">IN</a>
                        <a href="#" aria-label="Facebook">FB</a>
                        <a href="#" aria-label="Pinterest">P</a>
                        <a href="#" aria-label="YouTube">YT</a>
                        <a href="#" aria-label="TikTok">TT</a>
                        <a href="#" aria-label="Spotify">SP</a>
                    </div>
                </div>
            </section>

            <div class="footer-bottom">
                <p>2025 © Paxton</p>
            </div>
        </div>
    </footer>

    <script>
      // Footer accordion behavior for <= 1280px screens
      (function(){
        function applyAccordionBehavior(){
          var isMobile = window.matchMedia('(max-width: 1280px)').matches;
          document.querySelectorAll('.footer-acc-header').forEach(function(btn){
            var panel = btn.nextElementSibling;
            if(!panel) return;
            if(isMobile){
              if(btn.getAttribute('data-accordion-mode') !== 'mobile'){
                btn.setAttribute('aria-expanded','false');
              }
              btn.setAttribute('data-accordion-mode','mobile');
              if(btn.getAttribute('data-initialized') !== '1'){
                btn.addEventListener('click', function(){
                  var expanded = this.getAttribute('aria-expanded') === 'true';
                  this.setAttribute('aria-expanded', String(!expanded));
                  if(!expanded){ panel.style.maxHeight = panel.scrollHeight + 'px'; panel.classList.add('open'); }
                  else { panel.style.maxHeight = '0px'; panel.classList.remove('open'); }
                });
                btn.setAttribute('data-initialized','1');
              }
              if(btn.getAttribute('aria-expanded') === 'true'){
                panel.style.maxHeight = panel.scrollHeight + 'px';
                panel.classList.add('open');
              } else {
                panel.style.maxHeight = '0px';
                panel.classList.remove('open');
              }
            } else {
              btn.setAttribute('data-accordion-mode','desktop');
              btn.setAttribute('aria-expanded','true');
              panel.style.maxHeight = 'none';
              panel.classList.add('open');
            }
          });
        }
        applyAccordionBehavior();
        window.addEventListener('resize', function(){
          clearTimeout(window.__footerAccTimer);
          window.__footerAccTimer = setTimeout(applyAccordionBehavior, 150);
        });
      })();
    </script>

    <!-- Нижняя мобильная навигация -->
    <nav class="mobile-bottom-nav" aria-label="Нижняя навигация">
        <a href="/" class="mbn-item" aria-label="Главная">
            <span class="ico-home" aria-hidden="true"></span>
            <span class="mbn-label">Главная</span>
        </a>
        <button class="mbn-item" aria-label="Меню">
            <span class="ico-menu" aria-hidden="true"></span>
            <span class="mbn-label">Меню</span>
        </button>
        <a href="#" class="mbn-item" aria-label="Корзина">
            <span class="ico-bag" aria-hidden="true"></span>
            <span class="mbn-label">Корзина</span>
        </a>
        <a href="#" class="mbn-item" aria-label="Профиль">
            <span class="ico-user" aria-hidden="true"></span>
            <span class="mbn-label">Профиль</span>
        </a>
    </nav>
  </body>
</html>
